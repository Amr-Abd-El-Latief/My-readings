{"ast":null,"code":"var _jsxFileName = \"/Users/amr/Desktop/am/code-trials/udacity/react/ReadingsLibrary/nd0191-c1-myreads-main-work/starter/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport BooksGrid from \"./BooksGrid\";\nimport SearchPage from \"./SearchPage\";\nimport NotFound from \"./NotFound\";\nimport * as BooksAPI from './BooksAPI';\nimport { BrowserRouter, Routes, Route, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [showSearchPage, setShowSearchpage] = useState(false);\n  useEffect(() => {\n    const getBooks = async () => {\n      const res = await BooksAPI.getAll();\n      setBooks([...res.map(b => {\n        return {\n          title: b['title'],\n          id: b['id'],\n          authors: b['authors'],\n          shelf: b['shelf'],\n          previewLink: b['previewLink']\n        };\n      })]);\n      console.log(\"from outside books : \" + JSON.stringify(books));\n    };\n\n    getBooks();\n  });\n  let booksList = [{\n    id: 1,\n    title: \"Ender's Game\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Read\"\n  }, {\n    id: 2,\n    title: \"to Kill a Mockingbird\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Read\"\n  }, {\n    id: 3,\n    title: \"Amr\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Read\"\n  }, {\n    id: 4,\n    title: \"EE\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Want to Read\"\n  }, {\n    id: 5,\n    title: \"tt\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Want to Read\"\n  }, {\n    id: 6,\n    title: \"AA\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Want to Read\"\n  }, {\n    id: 7,\n    title: \"CC\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Currently Reading\"\n  }, {\n    id: 8,\n    title: \"FF\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Currently Reading\"\n  }, {\n    id: 9,\n    title: \"GG\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Currently Reading\"\n  }];\n  const [books, setBooks] = useState([...booksList]);\n  const [searchBooks, setSearchBooks] = useState([...booksList]);\n\n  const updateBookState = book => {\n    booksList = books.map(b => {\n      return b.id === book.id ? book : b;\n    });\n    setBooks([...booksList]);\n    BooksAPI.update(book, book.shelf);\n  };\n\n  const senQueryToAppPage = async query => {\n    try {\n      const res = await BooksAPI.search(query);\n      setSearchBooks([...(res === null || res === void 0 ? void 0 : res.map(b => {\n        return {\n          title: b['title'],\n          id: b['id'],\n          authors: b['authors'],\n          shelf: b['shelf'],\n          previewLink: b['previewLink']\n        };\n      }))]);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const updateBooksinApp = book => {\n    updateBookState(book);\n  };\n\n  const backToMainPage = () => {//\n  };\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-books\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"list-books-title\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"MyReads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"list-books-content\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bookshelf\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"bookshelf-title\",\n                    children: \"Currently Reading\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bookshelf-books\",\n                    children: /*#__PURE__*/_jsxDEV(BooksGrid, {\n                      books: books.filter(b => b.shelf === 'currentlyReading'),\n                      updateBooksinApp: updateBooksinApp\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 19\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bookshelf\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"bookshelf-title\",\n                    children: \"Want to Read\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bookshelf-books\",\n                    children: /*#__PURE__*/_jsxDEV(BooksGrid, {\n                      books: books.filter(b => b.shelf === 'wantToRead'),\n                      updateBooksinApp: updateBooksinApp\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bookshelf\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"bookshelf-title\",\n                    children: \"Read\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bookshelf-books\",\n                    children: /*#__PURE__*/_jsxDEV(BooksGrid, {\n                      books: books.filter(b => b.shelf === 'read'),\n                      updateBooksinApp: updateBooksinApp\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"open-search\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => setShowSearchpage(!showSearchPage),\n                children: \"Add a book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/search\",\n          element: /*#__PURE__*/_jsxDEV(SearchPage, {\n            books: searchBooks,\n            updateBooksinApp: updateBooksinApp,\n            senQueryToAppPage: senQueryToAppPage,\n            backToMainPage: backToMainPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 1\n  }, this);\n}\n\n_s(App, \"chzsuiaPy6NQ9YR6uPrBKO9AHRg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/amr/Desktop/am/code-trials/udacity/react/ReadingsLibrary/nd0191-c1-myreads-main-work/starter/src/App.js"],"names":["useState","useEffect","BooksGrid","SearchPage","NotFound","BooksAPI","BrowserRouter","Routes","Route","Link","App","showSearchPage","setShowSearchpage","getBooks","res","getAll","setBooks","map","b","title","id","authors","shelf","previewLink","console","log","JSON","stringify","books","booksList","searchBooks","setSearchBooks","updateBookState","book","update","senQueryToAppPage","query","search","e","error","updateBooksinApp","backToMainPage","filter"],"mappings":";;;AAAA,OAAO,WAAP;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,KAAKC,QAAZ,MAA0B,YAA1B;AACA,SAASC,aAAT,EAAuBC,MAAvB,EAA+BC,KAA/B,EAAsCC,IAAtC,QAAkD,kBAAlD;;;AAGA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCZ,QAAQ,CAAC,KAAD,CAApD;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACZ,UAAMY,QAAQ,GAAG,YAAU;AACzB,YAAMC,GAAG,GAAG,MAAMT,QAAQ,CAACU,MAAT,EAAlB;AACAC,MAAAA,QAAQ,CAAC,CAAC,GAAGF,GAAG,CAACG,GAAJ,CAAQC,CAAC,IAAE;AAAC,eAAO;AAACC,UAAAA,KAAK,EAACD,CAAC,CAAC,OAAD,CAAR;AAAkBE,UAAAA,EAAE,EAACF,CAAC,CAAC,IAAD,CAAtB;AAA6BG,UAAAA,OAAO,EAACH,CAAC,CAAC,SAAD,CAAtC;AAAkDI,UAAAA,KAAK,EAACJ,CAAC,CAAC,OAAD,CAAzD;AAAmEK,UAAAA,WAAW,EAACL,CAAC,CAAC,aAAD;AAAhF,SAAP;AAAwG,OAApH,CAAJ,CAAD,CAAR;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAyBC,IAAI,CAACC,SAAL,CAAeC,KAAf,CAArC;AAGD,KAND;;AAOAf,IAAAA,QAAQ;AACT,GATQ,CAAT;AAYA,MAAIgB,SAAS,GAAC,CACZ;AACET,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,cAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GADY,EASZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,uBAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GATY,EAkBZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,KAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GAlBY,EA0BZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,IAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GA1BY,EAkCZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,IAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GAlCY,EA2CZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,IAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GA3CY,EAmDZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,IAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GAnDY,EA2DZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,IAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GA3DY,EAoEZ;AACEF,IAAAA,EAAE,EAAC,CADL;AAEED,IAAAA,KAAK,EAAE,IAFT;AAGEE,IAAAA,OAAO,EAAC,CAAC,kBAAD,CAHV;AAIEE,IAAAA,WAAW,EAAC,0PAJd;AAKED,IAAAA,KAAK,EAAC;AALR,GApEY,CAAd;AA6EA,QAAM,CAACM,KAAD,EAAOZ,QAAP,IAAiBhB,QAAQ,CAAC,CAAC,GAAG6B,SAAJ,CAAD,CAA/B;AACA,QAAM,CAACC,WAAD,EAAaC,cAAb,IAA6B/B,QAAQ,CAAC,CAAC,GAAG6B,SAAJ,CAAD,CAA3C;;AAKF,QAAMG,eAAe,GAAIC,IAAD,IAAQ;AAG9BJ,IAAAA,SAAS,GAAGD,KAAK,CAACX,GAAN,CAAUC,CAAC,IAAE;AACxB,aAAOA,CAAC,CAACE,EAAF,KAAOa,IAAI,CAACb,EAAZ,GAAea,IAAf,GAAoBf,CAA3B;AAA6B,KADlB,CAAZ;AAMAF,IAAAA,QAAQ,CAAC,CAAC,GAAGa,SAAJ,CAAD,CAAR;AAEAxB,IAAAA,QAAQ,CAAC6B,MAAT,CAAgBD,IAAhB,EAAqBA,IAAI,CAACX,KAA1B;AAED,GAbD;;AAeA,QAAMa,iBAAiB,GAAC,MAAOC,KAAP,IAAe;AACrC,QAAG;AACH,YAAMtB,GAAG,GAAG,MAAMT,QAAQ,CAACgC,MAAT,CAAgBD,KAAhB,CAAlB;AACAL,MAAAA,cAAc,CAAC,CAAC,IAAGjB,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEG,GAAL,CAASC,CAAC,IAAE;AAAC,eAAO;AAACC,UAAAA,KAAK,EAACD,CAAC,CAAC,OAAD,CAAR;AAAkBE,UAAAA,EAAE,EAACF,CAAC,CAAC,IAAD,CAAtB;AAA6BG,UAAAA,OAAO,EAACH,CAAC,CAAC,SAAD,CAAtC;AAAkDI,UAAAA,KAAK,EAACJ,CAAC,CAAC,OAAD,CAAzD;AAAmEK,UAAAA,WAAW,EAACL,CAAC,CAAC,aAAD;AAAhF,SAAP;AAAwG,OAArH,CAAH,CAAD,CAAD,CAAd;AACC,KAHD,CAGC,OAAMoB,CAAN,EAAQ;AACPd,MAAAA,OAAO,CAACe,KAAR,CAAcD,CAAd;AACD;AACF,GAPD;;AASA,QAAME,gBAAgB,GAAIP,IAAD,IAAQ;AAE/BD,IAAAA,eAAe,CAACC,IAAD,CAAf;AACD,GAHD;;AAKA,QAAMQ,cAAc,GAAE,MAAI,CACzB;AACA,GAFD;;AAIE,sBAEF,QAAC,aAAD;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,6BAEA,QAAC,MAAD;AAAA,gCACG,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,OAAO,eAAU;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCAC9B;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAD8B,eAI9B;AAAK,cAAA,SAAS,EAAC,oBAAf;AAAA,qCACE;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,0CACE;AAAI,oBAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CAEE,QAAC,SAAD;AAAW,sBAAA,KAAK,EAAEb,KAAK,CAACc,MAAN,CAAaxB,CAAC,IAAEA,CAAC,CAACI,KAAF,KAAU,kBAA1B,CAAlB;AAAiE,sBAAA,gBAAgB,EAAEkB;AAAnF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eASE;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,0CACE;AAAI,oBAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACA,QAAC,SAAD;AAAW,sBAAA,KAAK,EAAEZ,KAAK,CAACc,MAAN,CAAaxB,CAAC,IAAEA,CAAC,CAACI,KAAF,KAAU,YAA1B,CAAlB;AAA4D,sBAAA,gBAAgB,EAAEkB;AAA9E;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBATF,eAeE;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,0CACE;AAAI,oBAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACA,QAAC,SAAD;AAAW,sBAAA,KAAK,EAAEZ,KAAK,CAACc,MAAN,CAAaxB,CAAC,IAAEA,CAAC,CAACI,KAAF,KAAU,MAA1B,CAAlB;AAAqD,sBAAA,gBAAgB,EAAEkB;AAAvE;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJ8B,eA4B9B;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACE;AAAG,gBAAA,OAAO,EAAE,MAAM5B,iBAAiB,CAAC,CAACD,cAAF,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA5B8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjC;AAAA;AAAA;AAAA;AAAA,gBADH,eAiCE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,SAAZ;AAAsB,UAAA,OAAO,eAAG,QAAC,UAAD;AAAY,YAAA,KAAK,EAAEmB,WAAnB;AAAgC,YAAA,gBAAgB,EAAEU,gBAAlD;AAAoE,YAAA,iBAAiB,EAAEL,iBAAvF;AAC9B,YAAA,cAAc,EAAEM;AADc;AAAA;AAAA;AAAA;AAAA;AAAhC;AAAA;AAAA;AAAA;AAAA,gBAjCF,eAoCE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,OAAO,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAzB;AAAA;AAAA;AAAA;AAAA,gBApCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UAFE;AAiDD;;GApLQ/B,G;;KAAAA,G;AAsLT,eAAeA,GAAf","sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport BooksGrid from \"./BooksGrid\";\n\nimport SearchPage from \"./SearchPage\";\nimport NotFound from \"./NotFound\";\nimport * as BooksAPI from './BooksAPI'; \nimport { BrowserRouter,Routes, Route, Link } from 'react-router-dom';\n\n\nfunction App() {\n  const [showSearchPage, setShowSearchpage] = useState(false);\n\n  useEffect(()=>{\n    const getBooks = async ()=>{\n      const res = await BooksAPI.getAll();\n      setBooks([...res.map(b=>{return {title:b['title'],id:b['id'],authors:b['authors'],shelf:b['shelf'],previewLink:b['previewLink']}}) ]);\n      console.log(\"from outside books : \" +JSON.stringify(books))\n\n     \n    }\n    getBooks();\n  }\n    )\n\n  let booksList=[\n    {\n      id:1,\n      title: \"Ender's Game\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Read\" \n    },\n    \n    {\n      id:2,\n      title: \"to Kill a Mockingbird\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Read\" \n    }\n    \n    ,\n    {\n      id:3,\n      title: \"Amr\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Read\" \n    },\n\n    {\n      id:4,\n      title: \"EE\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Want to Read\" \n    },\n    \n    {\n      id:5,\n      title: \"tt\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Want to Read\" \n    }\n    \n    ,\n    {\n      id:6,\n      title: \"AA\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Want to Read\" \n    },\n\n    {\n      id:7,\n      title: \"CC\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Currently Reading\" \n    },\n    \n    {\n      id:8,\n      title: \"FF\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Currently Reading\" \n    }\n    \n    ,\n    {\n      id:9,\n      title: \"GG\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Currently Reading\" \n    }\n    \n    ]\n  const [books,setBooks]=useState([...booksList])\n  const [searchBooks,setSearchBooks]=useState([...booksList])\n\n\n\n\nconst updateBookState = (book)=>{\n\n\n  booksList = books.map(b=>{\n   return b.id===book.id?book:b}\n    \n    )\n\n\n  setBooks([...booksList]);\n\n  BooksAPI.update(book,book.shelf)\n\n}\n\nconst senQueryToAppPage=async (query)=>{\n  try{\n  const res = await BooksAPI.search(query);\n  setSearchBooks([...res?.map(b=>{return {title:b['title'],id:b['id'],authors:b['authors'],shelf:b['shelf'],previewLink:b['previewLink']}}) ]);\n  }catch(e){\n    console.error(e)\n  }\n}\n\nconst updateBooksinApp = (book)=>{\n\n  updateBookState(book)\n}\n\nconst backToMainPage= ()=>{\n //\n}\n\n  return (\n\n<BrowserRouter>\n    <div className=\"app\">\n\n    <Routes>\n       <Route path=\"/\" element={        <div className=\"list-books\">\n          <div className=\"list-books-title\">\n            <h1>MyReads</h1>\n          </div>\n          <div className=\"list-books-content\">\n            <div>\n              <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">Currently Reading</h2>\n                <div className=\"bookshelf-books\">\n\n                  <BooksGrid books={books.filter(b=>b.shelf==='currentlyReading')} updateBooksinApp={updateBooksinApp} />\n  \n                </div>\n              </div>\n              <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">Want to Read</h2>\n                <div className=\"bookshelf-books\">\n                <BooksGrid books={books.filter(b=>b.shelf==='wantToRead')}  updateBooksinApp={updateBooksinApp}/>\n                </div>\n              </div>\n              <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">Read</h2>\n                <div className=\"bookshelf-books\">\n                <BooksGrid books={books.filter(b=>b.shelf==='read')} updateBooksinApp={updateBooksinApp} />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"open-search\">\n            <a onClick={() => setShowSearchpage(!showSearchPage)}>Add a book</a>\n          </div>\n        </div>} />\n      <Route path=\"/search\" element={ <SearchPage books={searchBooks} updateBooksinApp={updateBooksinApp} senQueryToAppPage={senQueryToAppPage} \n        backToMainPage={backToMainPage}/>}/>\n    \n      <Route path=\"*\" element={<NotFound />}/>\n\n    </Routes>\n      \n\n    </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}