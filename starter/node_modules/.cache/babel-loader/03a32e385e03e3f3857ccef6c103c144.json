{"ast":null,"code":"var _jsxFileName = \"/Users/amr/Desktop/am/code-trials/udacity/react/ReadingsLibrary/nd0191-c1-myreads-main-work/starter/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport BooksGrid from \"./BooksGrid\";\nimport SearchPage from \"./SearchPage\";\nimport * as BooksAPI from './BooksAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [showSearchPage, setShowSearchpage] = useState(false);\n  useEffect(() => {\n    const getBooks = async () => {\n      const res = await BooksAPI.getAll();\n      setBooks([...res.map(b => {\n        return {\n          title: b['title'],\n          id: b['id'],\n          authors: b['authors'],\n          shelf: b['shelf'],\n          previewLink: b['previewLink']\n        };\n      })]);\n      console.log(\"from outside books : \" + JSON.stringify(books));\n    };\n\n    getBooks();\n  }, []);\n  let booksList = [{\n    id: 1,\n    title: \"Ender's Game\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Read\"\n  }, {\n    id: 2,\n    title: \"to Kill a Mockingbird\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Read\"\n  }, {\n    id: 3,\n    title: \"Amr\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Read\"\n  }, {\n    id: 4,\n    title: \"EE\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Want to Read\"\n  }, {\n    id: 5,\n    title: \"tt\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Want to Read\"\n  }, {\n    id: 6,\n    title: \"AA\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Want to Read\"\n  }, {\n    id: 7,\n    title: \"CC\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Currently Reading\"\n  }, {\n    id: 8,\n    title: \"FF\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Currently Reading\"\n  }, {\n    id: 9,\n    title: \"GG\",\n    authors: [\"Orson Scott Card\"],\n    previewLink: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n    shelf: \"Currently Reading\"\n  }];\n  const [books, setBooks] = useState([...booksList]);\n  const [searchBooks, setSearchBooks] = useState([...booksList]);\n\n  const updateBookState = book => {\n    booksList = books.map(b => {\n      return b.id === book.id ? book : b;\n    });\n    setBooks([...booksList]);\n    BooksAPI.update(book, book.shelf);\n  };\n\n  const senQueryToAppPage = async query => {\n    try {\n      const res = await BooksAPI.search(query);\n      alert(JSON.stringify(res));\n      setSearchBooks([...res.map(b => {\n        return {\n          title: b['title'],\n          id: b['id'],\n          authors: b['authors'],\n          shelf: b['shelf'],\n          previewLink: b['previewLink']\n        };\n      })]);\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  const updateBooksinApp = book => {\n    updateBookState(book);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: showSearchPage ? /*#__PURE__*/_jsxDEV(SearchPage, {\n      books: searchBooks,\n      updateBooksinApp: updateBooksinApp,\n      senQueryToAppPage: senQueryToAppPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"MyReads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookshelf\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"bookshelf-title\",\n              children: \"Currently Reading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookshelf-books\",\n              children: /*#__PURE__*/_jsxDEV(BooksGrid, {\n                books: books.filter(b => b.shelf === 'currentlyReading'),\n                updateBooksinApp: updateBooksinApp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookshelf\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"bookshelf-title\",\n              children: \"Want to Read\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookshelf-books\",\n              children: /*#__PURE__*/_jsxDEV(BooksGrid, {\n                books: books.filter(b => b.shelf === 'wantToRead'),\n                updateBooksinApp: updateBooksinApp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookshelf\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"bookshelf-title\",\n              children: \"Read\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookshelf-books\",\n              children: /*#__PURE__*/_jsxDEV(BooksGrid, {\n                books: books.filter(b => b.shelf === 'read'),\n                updateBooksinApp: updateBooksinApp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-search\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: () => setShowSearchpage(!showSearchPage),\n          children: \"Add a book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"chzsuiaPy6NQ9YR6uPrBKO9AHRg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/amr/Desktop/am/code-trials/udacity/react/ReadingsLibrary/nd0191-c1-myreads-main-work/starter/src/App.js"],"names":["useState","useEffect","BooksGrid","SearchPage","BooksAPI","App","showSearchPage","setShowSearchpage","getBooks","res","getAll","setBooks","map","b","title","id","authors","shelf","previewLink","console","log","JSON","stringify","books","booksList","searchBooks","setSearchBooks","updateBookState","book","update","senQueryToAppPage","query","search","alert","e","updateBooksinApp","filter"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport BooksGrid from \"./BooksGrid\";\n\nimport SearchPage from \"./SearchPage\";\n\nimport * as BooksAPI from './BooksAPI'; \n\nfunction App() {\n  const [showSearchPage, setShowSearchpage] = useState(false);\n\n  useEffect(()=>{\n    const getBooks = async ()=>{\n      const res = await BooksAPI.getAll();\n      setBooks([...res.map(b=>{return {title:b['title'],id:b['id'],authors:b['authors'],shelf:b['shelf'],previewLink:b['previewLink']}}) ]);\n      console.log(\"from outside books : \" +JSON.stringify(books))\n\n     \n    }\n    getBooks();\n  }\n    ,[])\n\n  let booksList=[\n    {\n      id:1,\n      title: \"Ender's Game\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Read\" \n    },\n    \n    {\n      id:2,\n      title: \"to Kill a Mockingbird\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Read\" \n    }\n    \n    ,\n    {\n      id:3,\n      title: \"Amr\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Read\" \n    },\n\n    {\n      id:4,\n      title: \"EE\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Want to Read\" \n    },\n    \n    {\n      id:5,\n      title: \"tt\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Want to Read\" \n    }\n    \n    ,\n    {\n      id:6,\n      title: \"AA\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Want to Read\" \n    },\n\n    {\n      id:7,\n      title: \"CC\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Currently Reading\" \n    },\n    \n    {\n      id:8,\n      title: \"FF\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Currently Reading\" \n    }\n    \n    ,\n    {\n      id:9,\n      title: \"GG\",\n      authors:[\"Orson Scott Card\"],\n      previewLink:\"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf:\"Currently Reading\" \n    }\n    \n    ]\n  const [books,setBooks]=useState([...booksList])\n  const [searchBooks,setSearchBooks]=useState([...booksList])\n\n\n\n\nconst updateBookState = (book)=>{\n\n\n  booksList = books.map(b=>{\n   return b.id===book.id?book:b}\n    \n    )\n\n\n  setBooks([...booksList]);\n\n  BooksAPI.update(book,book.shelf)\n\n}\n\nconst senQueryToAppPage=async (query)=>{\n  try{\n  const res = await BooksAPI.search(query);\n  alert(JSON.stringify(res))\n  setSearchBooks([...res.map(b=>{return {title:b['title'],id:b['id'],authors:b['authors'],shelf:b['shelf'],previewLink:b['previewLink']}}) ]);\n  }catch(e){\n    alert(e)\n  }\n}\n\nconst updateBooksinApp = (book)=>{\n\n  updateBookState(book)\n}\n\n  return (\n    <div className=\"app\">\n      {showSearchPage ? (\n        <SearchPage books={searchBooks} updateBooksinApp={updateBooksinApp} senQueryToAppPage={senQueryToAppPage} />\n     \n      ) : (\n        <div className=\"list-books\">\n          <div className=\"list-books-title\">\n            <h1>MyReads</h1>\n          </div>\n          <div className=\"list-books-content\">\n            <div>\n              <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">Currently Reading</h2>\n                <div className=\"bookshelf-books\">\n\n                  <BooksGrid books={books.filter(b=>b.shelf==='currentlyReading')} updateBooksinApp={updateBooksinApp} />\n  \n                </div>\n              </div>\n              <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">Want to Read</h2>\n                <div className=\"bookshelf-books\">\n                <BooksGrid books={books.filter(b=>b.shelf==='wantToRead')}  updateBooksinApp={updateBooksinApp}/>\n          \n                </div>\n              </div>\n              <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">Read</h2>\n                <div className=\"bookshelf-books\">\n                <BooksGrid books={books.filter(b=>b.shelf==='read')} updateBooksinApp={updateBooksinApp} />\n                  {/* <ol className=\"books-grid\">\n                    <li>\n                      <div className=\"book\">\n                        <div className=\"book-top\">\n                          <div\n                            className=\"book-cover\"\n                            style={{\n                              width: 128,\n                              height: 192,\n                              previewLink:\n                                'url(\"http://books.google.com/books/content?id=pD6arNyKyi8C&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE70Rw0CCwNZh0SsYpQTkMbvz23npqWeUoJvVbi_gXla2m2ie_ReMWPl0xoU8Quy9fk0Zhb3szmwe8cTe4k7DAbfQ45FEzr9T7Lk0XhVpEPBvwUAztOBJ6Y0QPZylo4VbB7K5iRSk&source=gbs_api\")',\n                            }}\n                          ></div>\n                          <div className=\"book-shelf-changer\">\n                            <select>\n                              <option value=\"none\" disabled>\n                                Move to...\n                              </option>\n                              <option value=\"currentlyReading\">\n                                Currently Reading\n                              </option>\n                              <option value=\"wantToRead\">Want to Read</option>\n                              <option value=\"read\">Read</option>\n                              <option value=\"none\">None</option>\n                            </select>\n                          </div>\n                        </div>\n                        <div className=\"book-title\">The Hobbit</div>\n                        <div className=\"book-authors\">J.R.R. Tolkien</div>\n                      </div>\n                    </li>\n                    <li>\n                      <div className=\"book\">\n                        <div className=\"book-top\">\n                          <div\n                            className=\"book-cover\"\n                            style={{\n                              width: 128,\n                              height: 174,\n                              previewLink:\n                                'url(\"http://books.google.com/books/content?id=1q_xAwAAQBAJ&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE712CA0cBYP8VKbEcIVEuFJRdX1k30rjLM29Y-dw_qU1urEZ2cQ42La3Jkw6KmzMmXIoLTr50SWTpw6VOGq1leINsnTdLc_S5a5sn9Hao2t5YT7Ax1RqtQDiPNHIyXP46Rrw3aL8&source=gbs_api\")',\n                            }}\n                          ></div>\n                          <div className=\"book-shelf-changer\">\n                            <select>\n                              <option value=\"none\" disabled>\n                                Move to...\n                              </option>\n                              <option value=\"currentlyReading\">\n                                Currently Reading\n                              </option>\n                              <option value=\"wantToRead\">Want to Read</option>\n                              <option value=\"read\">Read</option>\n                              <option value=\"none\">None</option>\n                            </select>\n                          </div>\n                        </div>\n                        <div className=\"book-title\">\n                          Oh, the Places You'll Go!\n                        </div>\n                        <div className=\"book-authors\">Seuss</div>\n                      </div>\n                    </li>\n                    <li>\n                      <div className=\"book\">\n                        <div className=\"book-top\">\n                          <div\n                            className=\"book-cover\"\n                            style={{\n                              width: 128,\n                              height: 192,\n                              previewLink:\n                                'url(\"http://books.google.com/books/content?id=32haAAAAMAAJ&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72yckZ5f5bDFVIf7BGPbjA0KYYtlQ__nWB-hI_YZmZ-fScYwFy4O_fWOcPwf-pgv3pPQNJP_sT5J_xOUciD8WaKmevh1rUR-1jk7g1aCD_KeJaOpjVu0cm_11BBIUXdxbFkVMdi&source=gbs_api\")',\n                            }}\n                          ></div>\n                          <div className=\"book-shelf-changer\">\n                            <select>\n                              <option value=\"none\" disabled>\n                                Move to...\n                              </option>\n                              <option value=\"currentlyReading\">\n                                Currently Reading\n                              </option>\n                              <option value=\"wantToRead\">Want to Read</option>\n                              <option value=\"read\">Read</option>\n                              <option value=\"none\">None</option>\n                            </select>\n                          </div>\n                        </div>\n                        <div className=\"book-title\">\n                          The Adventures of Tom Sawyer\n                        </div>\n                        <div className=\"book-authors\">Mark Twain</div>\n                      </div>\n                    </li>\n                  </ol> */}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"open-search\">\n            <a onClick={() => setShowSearchpage(!showSearchPage)}>Add a book</a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}